<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="./index.css">
    <link rel="stylesheet"
        href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200" />
</head>
<style>
    .ok {
        color: red;
    }
</style>

<body>
    <div class="container">
        <div class="headerContainer">
            <div class="headerTop">
                <div class="logo">
                    <a href="index.html"><img src="./image/Stussy_Logo.svg.png" alt=""></a>
                </div>
                <div>
                    <span onclick="renderProducts(JSON.parse(localStorage.getItem('listProducts')))">ALL ITEMS</span>
                    <input type="text" id="valueSearch" placeholder="Search" oninput="searchProduct()">
                    <button style="background-color: #fff; border: none;"> <i class="fa-solid fa-magnifying-glass"></i>
                    </button>
                </div>
            </div>
            <div class="buyitem">
                <div>
                    <span>

                        <i class="fa-solid fa-cart-shopping" id="cart-product"></i>

                        <span class="totalCoutnProduct" id="totalCoutnProduct"></span>
                    </span>
                </div>
                <!-- <span><i class="fa-solid fa-user"></i></span> -->
                <button class="login" onclick="loginNext()">Sign in</button>
                <button class="register" onclick="registerNext()">REGISTER</button>
                <button class="logout" onclick="checklogout()">LOGOUT</button>

            </div>
        </div>
        <div class="header-bottom">
            <ul class="nav-bottom">
                <li><span class="tees" onclick="renderTee()">TEES</span></li>
                <li><span class="sweats" onclick="renderSW()">SWEATS</span></li>
                <li><span class="topsAndShirts" onclick="renderTS()">TOPS & SHIRTS</span></li>
                <li><span class="bottoms" onclick="renderBT()">BOTTOMS</span></li>
                <li><span class="outerwear" onclick="renderOT()">OUTERWEAR</span></li>
                <li><span class="accessories" onclick="renderAC()">ACCESSORIES</span></li>
            </ul>
        </div>
    </div>
    <div class="headerContainer">
        <div class="headerTop">
            <div class="logo">
                <a href="index.html"><img src="./image/Stussy_Logo.svg.png" alt=""></a>

            </div>
            <div>
                <span onclick="renderProducts(JSON.parse(localStorage.getItem('listProducts')))">ALL</span>

            </div>
        </div>
        <div class="buyitem">
            <span><i class="fa-solid fa-magnifying-glass"></i></span>
            <span><i class="fa-solid fa-user"></i></span>
            <button class="login" onclick="loginNext()">LOGIN</button>
            <button class="register" onclick="registerNext()">REGISTER</button>
            <button class="logout" onclick="checklogout()">LOGOUT</button>
            <div>
                <span>
                    <a href="cart.html">
                        <span>BAG</span>
                        <i class="fa-solid fa-cart-shopping "></i>
                    </a>
                    <span class="totalCoutnProduct" id="totalCoutnProduct"></span>
                </span>
            </div>
        </div>
    </div>
    <div class="header-bottom">
        <ul class="nav-bottom">
            <li><span class="tees" onclick="renderTee()">TEES</span></li>
            <li><span class="sweats" onclick="renderSW()">SWEATS</span></li>
            <li><span class="topsAndShirts" onclick="renderTS()">TOPS & SHIRTS</span></li>
            <li><span class="bottoms" onclick="renderBT()">BOTTOMS</span></li>
            <li><span class="outerwear" onclick="renderOT()">OUTERWEAR</span></li>
            <li><span class="accessories" onclick="renderAC()">ACCESSORIES</span></li>
        </ul>
    </div>
    <div class="product">
        <!-- hien thi san pham  -->
        <div class="banner">
            <img src="./image/banner4.jpg" alt="">
            <img src="./image/banner2.jpg" alt="">
            <img src="./image/banner.jpg" alt="">
        </div>
    </div>
    <!-- <ul class="listPage" style="display: flex;">

    </ul> -->

    <script>
        let listProducts = [
            {
                name: "DOLLIE PIGMENT DYED TEE",
                price: 59,
                img: "./image/tee/tee1.webp",
                nameList: "TEE",
                color: [
                    "./image/tee/tee1.webp",
                    "./image/tee/tee1-2.webp",
                    "./image/tee/tee1-3.webp"
                ]
            },
            {
                name: "STOCK BOX TEE",
                price: 49,
                img: "./image/tee/tee2.webp",
                nameList: "TEE",
                color: [
                    "./image/tee/tee2.webp",
                    "./image/tee/tee2-2.webp",
                    "./image/tee/tee2-3.webp",
                ]
            },
            {
                name: "TRIBE STACK TEE",
                price: 49,
                img: "./image/tee/tee3.webp",
                nameList: "TEE",
                color: [
                    "./image/tee/tee3.webp",
                    "./image/tee/tee3-2.webp",
                    "./image/tee/tee3-3.webp"
                ]
            },
            {
                name: "SARA TEE",
                price: 59,
                img: "./image/tee/tee4.webp",
                nameList: "TEE",
                color: [
                    "./image/tee/tee4.webp",
                    "./image/tee/tee4-2.webp",
                    "./image/tee/tee4-3.webp"
                ]
            },
            {
                name: "DOMINOES TEE",
                price: 49,
                img: "./image/tee/tee6.webp",
                nameList: "TEE",
                color: [
                    "./image/tee/tee6.webp",
                    "./image/tee/tee6-2.webp",
                    "./image/tee/tee6-3.webp"
                ]
            },
            {
                name: "RACECAR TEE",
                price: 59,
                img: "./image/tee/tee7.webp",
                nameList: "TEE",
                color: [
                    "./image/tee/tee7.webp",
                    "./image/tee/tee7-2.webp",
                    "./image/tee/tee7-3.webp"
                ]
            },
            {
                name: "ZIZZA TEE",
                price: 59,
                img: "./image/tee/tee8.webp",
                nameList: "TEE",
                color: [
                    "./image/tee/tee8.webp",
                    "./image/tee/tee8-2.webp",
                    "./image/tee/tee8-3.webp"
                ]
            },
            {
                name: "ONTHE TEE",
                price: 49,
                img: "./image/tee/tee9.webp",
                nameList: "TEE",
                color: [
                    "./image/tee/tee9.webp",
                    "./image/tee/tee9-2.webp",
                    "./image/tee/tee9-3.webp"
                ]
            },
            {
                name: "SARA ZIP HOODIE",
                price: 99,
                img: "./image/sweats/sw1.webp",
                nameList: "SWT",
                color: [
                    "./image/sweats/sw1.webp",
                    "./image/sweats/sw1-2.webp",
                    "./image/sweats/sw1-3.webp"
                ]
            },
            {
                name: "ZIP COLOR HOODIE",
                price: 109,
                img: "./image/sweats/sw5.webp",
                nameList: "SWT",
                color: [
                    "./image/sweats/sw5.webp",
                    "./image/sweats/sw5-2.webp",
                    "./image/sweats/sw5-3.webp"
                ]
            },
            {

                name: "SKULL CREST ZIP HOODIE",
                price: 99,
                img: "./image/sweats/sw2.webp",
                nameList: "SWT",
                color: [
                    "./image/sweats/sw2.webp",
                    "./image/sweats/sw2-2.webp",
                    "./image/sweats/sw2-3.webp"
                ]
            },
            {

                name: "OUR LEGACY DROP SHADOW PIGMENT DYED HOODIE",
                price: 89,
                img: "./image/sweats/sw3.webp",
                nameList: "SWT",
                color: [
                    "./image/sweats/sw3.webp",
                    "./image/sweats/sw3-2.webp"
                ]
            },
            {

                name: "OVERDYED STOCK LOGO HOODIE",
                price: 99,
                img: "./image/sweats/sw4.webp",
                nameList: "SWT",
                color: [
                    "./image/sweats/sw4.webp",
                    "./image/sweats/sw4-2.webp",
                    "./image/sweats/sw4-3.webp"
                ]
            },
            {

                name: "NEWCOOL STOCK LOGO HOODIE",
                price: 99,
                img: "./image/sweats/sw6.webp",
                nameList: "SWT",
                color: [
                    "./image/sweats/sw6.webp",
                    "./image/sweats/sw6-2.webp",
                    "./image/sweats/sw6-3.webp"
                ]
            },
            {

                name: "BOXY STRIPED SS SHIRT",
                price: 89,
                img: "./image/top&shirts/ts1.webp",
                nameList: "TS",
                color: [
                    "./image/top&shirts/ts1.webp",
                    "./image/top&shirts/ts1-2.webp",
                ]
            },
            {

                name: "BIG MESH POLO SWEATER",
                price: 89,
                img: "./image/top&shirts/ts2.webp",
                nameList: "TS",
                color: [
                    "./image/top&shirts/ts2.webp"
                ]
            },
            {
                name: "WRINKLY GINGHAM SS SHIRT",
                price: 99,
                img: "./image/top&shirts/st3.webp",
                nameList: "TS",
                color: [
                    "./image/top&shirts/st3.webp",
                    "./image/top&shirts/st3-2.webp",
                ]
            },
            {
                name: "4X4 MESH FOOTBALL JERSEY",
                price: 109,
                img: "./image/top&shirts/ts4.webp",
                nameList: "TS",
                color: [
                    "./image/top&shirts/ts4.webp",
                    "./image/top&shirts/ts4-2.webp",
                    "./image/top&shirts/ts4-3.webp"
                ]
            },
            {
                name: "OUR LEGACY WORK SHOP WATER SHORT",
                price: 99,
                img: "./image/bottom/bt1.webp",
                nameList: "BT",
                color: [
                    "./image/bottom/bt1.webp",
                    "./image/bottom/bt1-2.webp",
                    "./image/bottom/bt1-3.webp",
                ]
            },
            {

                name: "DOLLIE PIGMENT DYED BOTTOM",
                price: 89,
                img: "./image/bottom/bt2.webp",
                nameList: "BT",
                color: [
                    "./image/bottom/bt2.webp",
                    "./image/bottom/bt2-2.webp",
                ]
            },
            {
                name: "OUR LEGACY WORK SHOP REDUCED TROUSER",
                price: 99,
                img: "./image/bottom/bt3.webp",
                nameList: "BT",
                color: [
                    "./image/bottom/bt3.webp",
                    "./image/bottom/bt3-2.webp",
                ]
            },
            {
                name: "DOLLIE BOTTOM",
                price: 109,
                img: "./image/bottom/bt4.webp",
                nameList: "BT",
                color: [
                    "./image/bottom/bt4.webp"
                ]
            },
            {
                name: "DOLLIE PIG BOTTOM",
                price: 109,
                img: "./image/bottom/bt5.webp",
                nameList: "BT",
                color: [
                    "./image/bottom/bt5.webp"
                ]
            },

            {
                name: "RIPSTOP CARGO BEACH PANTM",
                price: 109,
                img: "./image/bottom/bt6.webp",
                nameList: "BT",
                color: [
                    "./image/bottom/bt6.webp",
                    "./image/bottom/bt6-2.webp",
                    "./image/bottom/bt6-3.webp"
                ]
            },
            {
                name: "DOLLIE MENT OUTERWEAR",
                price: 45,
                img: "./image/outwear/ow1.webp",
                nameList: "OT",
                color: [
                    "./image/outwear/ow1.webp",
                    "./image/outwear/ow1-2.webp",

                ]
            },
            {
                name: "DOLLIE PIGT OUTERWEAR",
                price: 45,
                img: "./image/outwear/ow2.webp",
                nameList: "OT",
                color: [
                    "./image/outwear/ow2.webp",
                    "./image/outwear/ow2-2.webp",
                ]
            },
            {
                name: "DOLLIE PIGMENT OUTERWEAR",
                price: 45,
                img: "./image/outwear/ow3.webp",
                nameList: "OT",
                color: [
                    "./image/outwear/ow3.webp",
                    "./image/outwear/ow3-2.webp",
                    "./image/outwear/ow3-3.webp",
                ]
            },
            {
                name: "DOLLIE PIGMENT OUTERWEAR",
                price: 45,
                img: "./image/outwear/ow4.webp",
                nameList: "OT",
                color: [
                    "./image/outwear/ow4.webp",
                    "./image/outwear/ow4-2.webp",
                    "./image/outwear/ow4-3.webp"
                ]
            },
            {
                name: "DOLLIE PIGMENT OUTERWEAR",
                price: 45,
                img: "./image/outwear/ow6.webp",
                nameList: "OT",
                color: [
                    "./image/outwear/ow6.webp",
                    "./image/outwear/ot6-2.webp"
                ]
            },
            {
                name: "STÜSSY & NIKE BENASSI SLIDE",
                price: 45,
                img: "./image/acces/ac1.webp",
                nameList: "AC",
                color: [
                    "./image/acces/ac1.webp",
                    "./image/acces/ac1-2.webp"
                ]
            },
            {
                name: "LEATHER OVERLAY BELT",
                price: 45,
                img: "./image/acces/ac2.webp",
                nameList: "AC",
                color: [
                    "./image/acces/ac2.webp",
                    "./image/acces/ac2-2.webp"
                ]
            },
            {
                name: "PEACE TIE CLIP",
                price: 45,
                img: "./image/acces/ac3.webp",
                nameList: "AC",
                color: [
                    "./image/acces/ac3.webp",
                    "./image/acces/ac3-2.webp",
                    "./image/acces/ac3-3.webp"
                ]
            },
            {
                name: "WORK GLOVES",
                price: 45,
                img: "./image/acces/ac4.webp",
                nameList: "AC",
                color: [
                    "./image/acces/ac4.webp",
                    "./image/acces/ac4-2.webp",
                    "./image/acces/ac4-3.webp"
                ]
            },
            {
                name: "WORK GLOVES",
                price: 45,
                img: "./image/acces/ac5.webp",
                nameList: "AC",
                color: [
                    "./image/acces/ac5.webp",
                    "./image/acces/ac5-2.webp",

                ]
            },
            {
                name: "WORK GLOVES COLORMIX",
                price: 45,
                img: "./image/acces/ac6.webp",
                nameList: "AC",
                color: [
                    "./image/acces/ac6.webp",
                    "./image/acces/ac6-2.webp",

                ]
            }
        ]
        // hàm sinh id
        function uuid() {
            return new Date().getMilliseconds() + Math.floor(Math.random() * 9999)
        }
        const USDollar = new Intl.NumberFormat('en-US', {
            style: 'currency',
            currency: 'USD',
        })
        // for (let i = 0; i < listProducts.length; i++) {
        //     listProducts[i].id = uuid()
        // }
        // for (let i = 0; i < listProducts.length; i++) {
        //     listProducts[i].quantity = 1;
        // }
        // console.log(listProducts);
        //  localStorage.setItem("listProducts", JSON.stringify(listProducts))
        let listProductsLocal = JSON.parse(localStorage.getItem("listProducts"))


        //function banner ảnh tự lướt 
        let listBanner = document.querySelectorAll(".banner img")
        console.log(listBanner);
        let indexBanner = 0;
        function nextBanner() {
            listBanner[indexBanner].style.display = "none";
            indexBanner = (indexBanner + 1) % listBanner.length
            listBanner[indexBanner].style.display = "block";
        }
        setInterval(nextBanner, 1000)
        //function mua hang
        let currentPage = 1;
        let toTalItemPage = 6; // so anh hien thi
        let start;
        let end;

        function showCurrentPage(page) {
            start = (page - 1) * toTalItemPage;
            end = page * toTalItemPage
        }
        showCurrentPage(currentPage)

        function showListPage(a) {
            let listProducts = JSON.parse(localStorage.getItem("listProducts"))
            let result = "";
            for (let i = 0; i < Math.ceil(listProducts.length / toTalItemPage); i++) {
                result +=
                `
                    <li onclick="pageNow(${i})" class="itemPage">${i + 1}</li>
                `
            }
            document.getElementById("listShowPage").innerHTML = result;
            document.getElementsByClassName("itemPage")[a].classList.add("active-page")
            showArrowCurrent(currentPage)
        }

        // function tan giam page - chuyen page
        function increasePage() {
            currentPage++;
            let listProducts = JSON.parse(localStorage.getItem("listProducts"))

            if (currentPage == Math.ceil(listProducts.length / toTalItemPage) + 1) {
                currentPage = Math.ceil(listProducts.length / toTalItemPage)
            }
            let listItemPage = document.getElementsByClassName("itemPage")
            console.log(listItemPage.length);
            for (let i = 0; i < listItemPage.length; i++) {

                if (i == currentPage - 1) {

                    listItemPage[i].classList.add("active-page");

                } else {

                    listItemPage[i].classList.remove("active-page");
                }

            }
            showCurrentPage(currentPage);
            renderProducts(JSON.parse(localStorage.getItem("listProducts")));
            showListPage(currentPage - 1)
        }


        function decreasePage() {
            console.log("decrease");
            let listItemPage = document.getElementsByClassName("itemPage");
            let listProducts = JSON.parse(localStorage.getItem("listProducts"))
            currentPage--;
            if (currentPage == 0) {
                currentPage = 1 
            }
            for (let i = 0; i < listItemPage.length; i++) {
                if (i == currentPage - 1) {
                    listItemPage[i].classList.add("active-page");
                } else {
                    listItemPage[i].classList.remove("active-page");
                }

            }
            showCurrentPage(currentPage);
            renderProducts(JSON.parse(localStorage.getItem("listProducts")));
            showListPage(currentPage - 1)
        }
        //function click vao current thi load ra dc page now
        function pageNow(pageNow) {
            console.log(currentPage);
            console.log(pageNow);

            let listItemPage = document.getElementsByClassName("itemPage")
            for (let i = 0; i < listItemPage.length; i++) {
                if (i == pageNow) {
                    listItemPage[i].classList.add("active-page");
                } else {
                    listItemPage[i].classList.remove("active-page");
                }

            }
             showCurrentPage(pageNow + 1);
           
             renderProducts(JSON.parse(localStorage.getItem("listProducts")));
             showListPage(pageNow)
             currentPage=pageNow+1;
        }   
// kkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkkk
        function showArrowCurrent(a) {
            if(a = 1){
                document.querySelector(".material-symbols-outlined").style.display ="none"
            }else if(a>1){
                document.querySelector(".material-symbols-outlined").style.display ="block"
            }
        }
        

        function renderProducts(param) {
            let result = ""
            for (let i = 0; i < param.length; i++) {
                if (i >= start && i < end) {
                    result +=
                        `
                <div class="item" > 
                    <div class="item-img">
                         <img src="${param[i].img}" alt="" onclick="renderProductItem('${param[i].id}')">
                    </div>
                    <div class="item-detail">
                         <p>Name: ${param[i].name} </p>
                        <p>Price : ${USDollar.format(param[i].price)}</p>
                     </div>
        
                </div>
                  `
                }
            }
            document.querySelector(".product").innerHTML =
                `
           <div class="main">  ${result} </div>
           
                <div class="list-page">
                    <span onclick="decreasePage()" class="material-symbols-outlined">
                        navigate_before
                    </span>
                    <ul id="listShowPage">
                    
                    </ul>
                    <span onclick="increasePage()" class="material-symbols-outlined">
                        chevron_right
                    </span>
                </div>

            `
            ;
            showListPage(0)
        }

        function loginNext() {
            window.location.href = "login.html";

        }
        function registerNext() {
            window.location.href = "register.html";
        }
        
        function addCart(idProduct) {
            console.log(idProduct);
            let checkIsLogin = localStorage.getItem("checkLogin");
            if (checkIsLogin == null) {
                alert("Chưa đăng nhập - không thể thêm sản phẩm vào giỏ hàng");
                return;
            }
            console.log("tiep tuc mua hang");

            let listProducts = JSON.parse(localStorage.getItem("listProducts"));
            console.log(listProducts)
            let listUser = JSON.parse(localStorage.getItem("listUser"));
            console.log(listUser)
            //khi đã có được list user thì mình dựa vào iduser
            // lấy ra giỏ hàng của user
            for (let i = 0; i < listUser.length; i++) {
                if (listUser[i].idUser == checkIsLogin) {
                    let cartUser = listUser[i].cartUser;
                    console.log(cartUser);
                    for (let j = 0; j < cartUser.length; j++) {
                        if (cartUser[j].img === document.getElementById("main-image").src) {
                            cartUser[j].quantity += 1;
                            localStorage.setItem("listUser", JSON.stringify(listUser));
                            showTotalCartProduct()
                            return;
                        }
                    }
                   
                    for (let j = 0; j < listProducts.length; j++) {
                       
                        if (listProducts[j].id == idProduct) {
                            let item = {
                                img: document.getElementById("main-image").src,
                                name: listProducts[j].name,
                                price: listProducts[j].price,
                                quantity: 1
                            }
                            cartUser.push(item);
                            localStorage.setItem("listUser", JSON.stringify(listUser));
                            showTotalCartProduct();
                            return;
                        }

                    }
                }
            }

        }

        function showTotalCartProduct() {

            let listUser = JSON.parse(localStorage.getItem("listUser"));
            let checkIsLogin = localStorage.getItem("checkLogin");
            
            let user = listUser.find((item) => {
                return item.idUser == checkIsLogin
            })

            let cartUser = (user.cartUser);

            let total = cartUser.reduce((total, curreValue) => {
                return total+=curreValue.quantity;
            }, 0)

            // localStorage.setItem("cartTotal", user.cartUser.length);
            document.getElementById("totalCoutnProduct").innerHTML = `${total}`;
        }

        if (checkLogin()) {
            showTotalCartProduct()
        }
        

        function renderTee() {
            let listProducts = JSON.parse(localStorage.getItem("listProducts"));
            console.log(2222);
            let listRender = [];
            for (let i = 0; i < listProducts.length; i++) {
                if (listProducts[i].nameList.includes("TEE")) {
                    listRender.push(listProducts[i])
                }
            }
            console.log(listRender);
            start = 0;
            end = 6;
            renderProducts(listRender)
            showListPage(listRender.length)

        }
        function renderSW() {
            let listProducts = JSON.parse(localStorage.getItem("listProducts"));
            console.log(333);
            let listRender = [];
            for (let i = 0; i < listProducts.length; i++) {
                if (listProducts[i].nameList.includes("SW")) {
                    listRender.push(listProducts[i])
                }

            }
            console.log(listRender);
            start = 0;
            end = 6;
            renderProducts(listRender)
        }

        function renderTS() {
            let listProducts = JSON.parse(localStorage.getItem("listProducts"));
            console.log(333);
            let listRender = [];
            for (let i = 0; i < listProducts.length; i++) {
                if (listProducts[i].nameList.includes("TS")) {
                    listRender.push(listProducts[i])
                }

            }
            start = 0;
            end = 6;
            renderProducts(listRender)
        }


        function renderBT() {
            console.log(333);
            let listProducts = JSON.parse(localStorage.getItem("listProducts"));
            let listRender = [];
            for (let i = 0; i < listProducts.length; i++) {
                if (listProducts[i].nameList.includes("BT")) {
                    listRender.push(listProducts[i])
                }

            }
            start = 0;
            end = 6;
            renderProducts(listRender)
        }
        function renderOT() {
            console.log(333);
            let listProducts = JSON.parse(localStorage.getItem("listProducts"));
            let listRender = [];
            for (let i = 0; i < listProducts.length; i++) {
                if (listProducts[i].nameList.includes("OT")) {
                    listRender.push(listProducts[i])
                }

            }
            start = 0;
            end = 6;
            renderProducts(listRender)
        }
        function renderAC() {
            console.log(333);
            let listProducts = JSON.parse(localStorage.getItem("listProducts"));
            let listRender = [];
            for (let i = 0; i < listProducts.length; i++) {
                if (listProducts[i].nameList.includes("AC")) {
                    listRender.push(listProducts[i])
                }

            }
            start = 0;
            end = 6;
            renderProducts(listRender)
        }
        function checklogout() {
            let confirmLogout = confirm("Ban co muon thoat khong?")
            if (confirmLogout) {
                localStorage.removeItem("checkLogin");
                document.getElementsByClassName("logout")[0].style.display = "none";
                document.getElementById("totalCoutnProduct").innerHTML = 0;
                document.getElementsByClassName("login")[0].style.display = "block";
                document.getElementsByClassName("register")[0].style.display = "block";

            }
        }
        function checkLogin() {
            let getLogin = localStorage.getItem("checkLogin");
            if (getLogin == null) {
                document.getElementsByClassName("logout")[0].style.display = "none";
                document.getElementsByClassName("login")[0].style.display = "block";
                document.getElementsByClassName("register")[0].style.display = "block";
                return false;
            } else {
                document.getElementsByClassName("login")[0].style.display = "none";
                document.getElementsByClassName("register")[0].style.display = "none";
                return true;
            }
        };
        if (checkLogin()) {
            document.getElementsByClassName("logout")[0].style.display = "block";
        };

        function renderProductItem(idProduct) {
            console.log(idProduct);
            let listProductLocal = JSON.parse(localStorage.getItem("listProducts"));
            let productItem = listProductLocal.find((item) => {
                return item.id == idProduct
            })
            console.log(productItem);
            let result = `
            <div class="productContainer">
                <div class="item-left">
                    <img id="main-image" src="${productItem.img}" alt="">
                </div>
                <div class="item-right">
                    <div class="item-right-detail">
                        <h2>${productItem.name}</h2>
                        <span>Price : ${USDollar.format(productItem.price)}</span>
                    <div class="color">
                        <span>Select Color:</span> <br>
                        
                    </div>
                <span class="shipping">Free shipping in US for orders over $200 USD</span> <br>
                <p><i onclick=addCart('${productItem.id}') class="fa-solid fa-cart-shopping minicart"></i></p>
            </div>
            </div>
         </div>
            `
            document.querySelector(".product").innerHTML = result;

            let color = document.querySelector(".color");
            let resultColor = "";
            for (let i = 0; i < productItem.color.length; i++) {
                resultColor += `
                <img onclick="renderSelectColor(this)" src="${productItem.color[i]}" alt="">
                `
            }
            color.innerHTML = `<span>Select Color:</span> <br> ${resultColor}`;
        };

        function searchProduct() {
            console.log("111111")
            let listProducts = JSON.parse(localStorage.getItem("listProducts"))
            console.log(listProducts);
            let valueSearch = document.getElementById("valueSearch").value;
            let userSearch = listProducts.filter(item => {
                return item.name.toUpperCase().includes(valueSearch.toUpperCase())
            })
            console.log(userSearch);
            renderProducts(userSearch)
        };


        //function de nguoi dung chon mau 

        function renderSelectColor(param) {
            console.log(param);
            document.querySelector("#main-image").src = `${param.src}`;
        }

        document.querySelector("#cart-product").addEventListener("click", () => {
            window.location.href = "cart.html";

        })


    </script>

</body>


</html>